<dom-module id="date-picker">

  <style>
    :host {
      display: inline-block;
    }
  </style>

  <template>
    <input type="date" value="{{date}}" name="date" on-change="dateChanged">
  </template>

  <script>
    Polymer({
      is: 'date-picker',
      fileLocation: 'http://apfel.informatik.tu-chemnitz.de/polymer/polymer-examples/date-picker-element.html',
      properties: {
        date: {
          type: String,
          notify: true,
          reflectToAttribute: true
        }
      },
      dateChanged: function(e) {
        this.date = e.target.value;
      },
      attached: function() {
        if (!this.date) {
          function addZero(i) {
            return (i < 10) ? '0' + i : i;
          }
          var d = new Date();
          this.date = d.getFullYear() + '-' + addZero(d.getMonth()+1) + '-' + addZero(d.getDate());
        }
      }
    });
  </script>

</dom-module>